<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>QR Code Generator</title>
  <script src="https://unpkg.com/webtonative@1.0.63/webtonative.min.js"></script>
  <style>
    #qrcode {
      margin-top: 20px;
    }
  </style>
</head>
<body>

  <h2>QR Code Generator</h2>
  <input type="text" id="text" placeholder="Enter text or URL" />
  <button onclick="start()">Generate</button>

  <div id="qrcode"></div>

  <script>
    function generateQRCode() {
      const container = document.getElementById("qrcode");
      container.innerHTML = ""; // Clear previous QR code
      const text = document.getElementById("text").value;

      new QRCode(container, {
        text: text,
        width: 200,
        height: 200,
      });
    }
  </script>

</body>

<script>
    function scanBarcode()
    {
    const { Format, BarcodeScan } = WTN.Barcode;
    BarcodeScan({
      formats: Format.ALL_FORMATS, // optional
      onBarcodeSearch: (value) => {
        alert(value);
      },
    });
    }
    
        var mylatitude = '';
        var mylongitude = '';
    
        function success(pos) {
            const crd = pos.coords;
            mylatitude = crd.latitude;
            mylongitude = crd.longitude;
        }
    
        function error(err) {
            console.warn(`ERROR(${err.code}): ${err.message}`);
        }
    
        function setLocation() {
            const options = {
                enableHighAccuracy: true,
                timeout: 5000,
                maximumAge: 0,
            };
            navigator.geolocation.getCurrentPosition(success, error, options);
        }
    
    
        function successCallback(position) {
            const {
                latitude,
                longitude,
                altitude,
                speed
            } = position;
            // Show a map centered at latitude / longitude.
    
            document.getElementById('speed').innerHTML=position;
        }
    
    
        function start() {
            window.WTN.backgroundLocation.start({
                apiUrl: "https://app.svktrv.in/ride/track/{{$ride_id}}",
                timeout: 3000,
                data: '{"tracking-id":"ride_id-{{$ride_id}}"}',
                backgroundIndicator: true,
                pauseAutomatically: true,
                distanceFilter: 0.0,
                desiredAccuracy: "best",
                activityType: "other",
            });
        }
    
    
        function stop() {
            window.WTN.backgroundLocation.stop();
        }
    
        function startlocation() {
            lod(true);
            start();
            window.location.href = "/driver/ride/status/{{$ride_id}}/2";
        }
    
        function restartLocation()
        {
            stop();
            start();
        }
    
        function stoplocation() {
            lod(true);
            stop();
            window.location.href = "/driver/ride/status/{{$ride_id}}/5";
        }
        @if($data['ride']['status'] == 2)
        //restartLocation();
        //setInterval(function() {
        //    stop();
        //    start();
        //}, 300000);
        @endif
    </script>
</html>